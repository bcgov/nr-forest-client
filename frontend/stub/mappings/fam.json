{
  "mappings": [
    {
      "name": "Login IDIR",
      "request": {
        "urlPath": "/login",
        "method": "GET",
        "queryParameters": {
          "code": {
            "equalTo": "idir"
          }
        }
      },
      "response": {
        "status": 302,
        "transformers": ["response-template"],
        "headers": {
          "Location": "http://{{request.host}}:3000/dashboard",
          "Set-Cookie": [
            "idToken=eyJhbGciOiJIUzI1NiJ9.eyJjdXN0b206aWRwX3VzZXJfaWQiOiJ1YXR0ZXN0IiwiY3VzdG9tOmlkcF9uYW1lIjoiaWRpciIsImN1c3RvbTppZHBfZGlzcGxheV9uYW1lIjoiVGVzdCwgVUFUIFdMUlM6RVgiLCJnaXZlbl9uYW1lIjoiVWF0IiwiZmFtaWx5X25hbWUiOiJUZXN0IiwiZW1haWwiOiJ1YXR0ZXN0QGdvdi5iYy5jYSIsImlkcF9idXNpbmVzc19uYW1lIjoiQXV0b21hdGVkIFRlc3QifQ.akz1TFgtlNW6txbPqwVvouSYkB8J3W49vj4UPFaq0QY; sameSite=Lax; path=/; Expires={{now offset='10 years' format='EEE, d MMM yyyy HH:mm:ss'}} GMT; domain={{request.host}}"
          ]
        }
      }
    },
    {
      "name": "Login BCeID",
      "request": {
        "urlPath": "/login",
        "method": "GET",
        "queryParameters": {
          "code": {
            "equalTo": "bceidbusiness"
          }
        }
      },
      "response": {
        "status": 302,
        "transformers": ["response-template"],
        "headers": {
          "Location": "http://{{request.host}}:3000/dashboard",
          "Set-Cookie": [
            "idToken=eyJhbGciOiJIUzI1NiJ9.eyJjdXN0b206aWRwX3VzZXJfaWQiOiJ1YXR0ZXN0IiwiY3VzdG9tOmlkcF9uYW1lIjoiYmNlaWRidXNpbmVzcyIsImN1c3RvbTppZHBfYnVzaW5lc3NfaWQiOiJhdXRvbWF0aW9uaW5jIiwiY3VzdG9tOmlkcF9kaXNwbGF5X25hbWUiOiJVYXQgVGVzdCIsImdpdmVuX25hbWUiOiJVYXQiLCJmYW1pbHlfbmFtZSI6IlRlc3QiLCJlbWFpbCI6InVhdHRlc3RAdGVzdC5jb20iLCJpZHBfYnVzaW5lc3NfbmFtZSI6IkF1dG9tYXRpb24gSW5jIn0.mTpv2AM65mnCRtqh8-kADPpSD48WTuHQ3OodCXtEQWk; sameSite=Lax; path=/; Expires={{now offset='10 years' format='EEE, d MMM yyyy HH:mm:ss'}} GMT; domain={{request.host}}"
          ]
        }
      }
    },
    {
      "name": "Login BCSC",
      "request": {
        "urlPath": "/login",
        "method": "GET",
        "queryParameters": {
          "code": {
            "equalTo": "bcsc"
          }
        }
      },
      "response": {
        "status": 302,
        "transformers": ["response-template"],
        "headers": {
          "Location": "http://{{request.host}}:3000/dashboard",
          "Set-Cookie": [
            "idToken=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMTJmNGY4Ny01NTk0LTRlMDAtYmY2NC00MzllMGEwZWYyMGYiLCJjdXN0b206Z2l2ZW5fbmFtZXMiOiJVQVQgQVVUT01BVEVEIiwiYmlydGhkYXRlIjoiMTk4Ni0xMS0xMiIsImdlbmRlciI6InVua25vd24iLCJjdXN0b206aWRwX3VzZXJfaWQiOiJOQTVUQ1BHTUlHVUZWQ1NTNlNBTzNUSURCTUFIWEwzRiIsImN1c3RvbTppZHBfZGlzcGxheV9uYW1lIjoiVUFUIFRFU1QiLCJlbWFpbCI6InVhdHRlc3RAZ292LmJjLmNhIiwiYWRkcmVzcyI6eyJmb3JtYXR0ZWQiOiJ7XCJzdHJlZXRfYWRkcmVzc1wiOlwiNDAwMCBTRVlNT1VSIFBMQUNFXCIsXCJjb3VudHJ5XCI6XCJDQVwiLFwibG9jYWxpdHlcIjpcIlZJQ1RPUklBXCIsXCJyZWdpb25cIjpcIkJDXCIsXCJwb3N0YWxfY29kZVwiOlwiVjhaIDFDOFwifSJ9LCJjdXN0b206aWRwX25hbWUiOiJjYS5iYy5nb3YuZmxuci5mYW0uZGV2IiwiZ2l2ZW5fbmFtZSI6IlVBVCIsImZhbWlseV9uYW1lIjoiVEVTVCJ9.yI50T0SHRaBZ59fKpzEVKLyBvv-axIzIAi5tOuZ37Ls; sameSite=Lax; path=/; Expires={{now offset='10 years' format='EEE, d MMM yyyy HH:mm:ss'}} GMT; domain={{request.host}}"
          ]
        }
      }
    },
    {
      "name": "Logout",
      "request": {
        "urlPath": "/logout",
        "method": "GET"
      },
      "response": {
        "status": 302,
        "transformers": ["response-template"],
        "headers": {
          "Location": "http://{{request.host}}:3000/",
          "Set-Cookie": [
            "idToken=; sameSite=Lax; path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; domain={{request.host}}"
          ]
        }
      }
    },
    {
      "name": "Callback",
      "request": {
        "urlPath": "/callback",
        "method": "GET",
        "queryParameters": {
          "code": {
            "matches": "(.*)"
          }
        }
      },
      "response": {
        "status": 302,
        "transformers": ["response-template"],
        "headers": {
          "Location": "http://{{request.host}}:3000/"
        }
      }
    }
  ]
}
